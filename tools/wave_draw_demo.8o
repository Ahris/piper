# Chip8 is a virtual machine designed in 1977 for programming video games.
# Octo is a high level assembler, disassembler and simulator for Chip8.
# Click 'Run' and then press ASWD to move the sprite around the screen.
# Click the Octo logo for source, documentation and examples.

: wave-1-5
    0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b01000000 0b11000100 0b01000100 0b01101100 0b11111100 0b11111110 0b11111111 0b00011111 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b01000000 0b01000001 0b01000001 0b01000001 0b01000011 0b01100111 0b11111111 0b11111111 0b11111100 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000010 0b00000010 0b10000110 0b11111111 0b11111111 0b11111111 0b11111000 0b11000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000100 0b00000100 0b00100100 0b00100110 0b00110111 0b00111111 0b01111111 0b11111111 0b11100000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00010000 0b00010000 0b01010000 0b01010010 0b01111010 0b11111110 0b11111111 0b11111111 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b01000100 0b01000100 0b01101100 0b01111100 0b11111100 0b11111110 0b00011111 0b00000001 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000010 0b00100010 0b00100100 0b00010100 0b00011100 0b01111100 0b11111100 0b11111110 0b00011111 0b00000011 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00000000 0b00101000 0b00101000 0b00110000 0b00100000 0b00100000 0b01100000 0b11110001 0b11111111 0b01111111 0b00000000 0b00000000

# Wave data (tile height, offset x, offset y, num rows) # (offset x, offset y, pixel height)
: wave-data-1-5 15 0 0  1      #  0 0  9

: main
    i := wave-data-1-5 load v2 i := wave-1-5 draw-wave

: draw-wave
    # v0 sprite stride
    # v1 sprite x
    # v2 sprite y
    loop
#:breakpoint a
        sprite v1 v2 15
        i  += v0
        v1 += 8
        if v1 < 0x40 then
    again
;
